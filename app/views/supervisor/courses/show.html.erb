<% provide(:title, @course.name) %>
<h1><%= t(:course_detail) %></h1>
<div class="row">
  <div class="panel panel-default panel-box">
    <div class="panel-heading panel-course-name"><%= @course.name %>
      <div class="pull-right">
        <%= link_to t(:view_all), supervisor_courses_path,
          class: "btn btn-default" %>
        <%= link_to t(:edit), edit_supervisor_course_path(@course),
          class: "btn btn-primary" %>
        <%= link_to t(:delete), [:supervisor, @course], method: :delete,
          class: "btn btn-danger", data: { confirm: t(:confirm_message) } %>
      </div>
    </div>
    <div class="panel-body">
      <p><font size="3"><%= link_to t(:add_edit_enrollment), supervisor_course_course_users_path(@course) %></font></p> <br>
      <p><font size="3"><%= t 'supervisor' %>: (<%= @course.users.supervisors.count %>)</font> <%= link_to t(:view), '#' %> </p>
      <p><font size="3"><%= t 'trainee' %>: (<%= @course.users.trainees.count %>)</font> <%= link_to t(:view), '#' %> </p> <br>

      <h3><%= t 'subjects' %></h3>

      <table class="table">
        <thead>
          <tr>
            <th><%= t 'name' %></th>
            <th><%= t 'description' %></th>
          </tr>
        </thead>
        <tbody>
          <% @course.course_subjects.each do |course_subject| %>
            <tr>
              <td><%= link_to course_subject.subject.name, [:supervisor, course_subject.subject] %></td>
              <td><%= course_subject.subject.description.truncate 120 %></td>
            </tr>
          <% end %>
        </tbody>
      </table>

      <br>
      <h3><%= t 'description' %></h3>
      <p><%= @course.description %></p>
    </div>
    <div class="panel-footer panel-course-footer">
      <div class="col-sm-2">
        <%= t 'start_date' %>: <%= l @course.start_date, :format => :short %>
      </div>
      <div class="col-sm-2">
        <%= t 'end_date' %>: <%= l @course.end_date, :format => :short %>
      </div>
    </div>
  </div>
</div>
